===========================================
FOXRIVER BACKEND - COMPREHENSIVE ROUTE TESTING
===========================================

BASE URL: http://localhost:5002

===========================================
1. HEALTH CHECK
===========================================

curl http://localhost:5002/api/health

===========================================
2. AUTHENTICATION ROUTES
===========================================

# Register new user
curl -X POST http://localhost:5002/api/auth/register -H "Content-Type: application/json" -d "{\"phone\":\"+251900000010\",\"password\":\"Test1234\",\"name\":\"Test User\",\"referralCode\":\"\"}"

# Login (save the token from response)
curl -X POST http://localhost:5002/api/auth/login -H "Content-Type: application/json" -d "{\"phone\":\"+251900000010\",\"password\":\"Test1234\"}"

# Verify token (replace YOUR_TOKEN with actual token)
curl -X GET http://localhost:5002/api/auth/verify -H "Authorization: Bearer YOUR_TOKEN"

===========================================
3. USER ROUTES (Protected - Need Token)
===========================================

# Get user profile
curl -X GET http://localhost:5002/api/users/profile -H "Authorization: Bearer YOUR_TOKEN"

# Update user profile
curl -X PUT http://localhost:5002/api/users/profile -H "Authorization: Bearer YOUR_TOKEN" -H "Content-Type: application/json" -d "{\"name\":\"Updated Name\"}"

# Get wallet balance
curl -X GET http://localhost:5002/api/users/wallet -H "Authorization: Bearer YOUR_TOKEN"

# Get referral link
curl -X GET http://localhost:5002/api/users/referral-link -H "Authorization: Bearer YOUR_TOKEN"

# Set bank account
curl -X PUT http://localhost:5002/api/users/bank-account -H "Authorization: Bearer YOUR_TOKEN" -H "Content-Type: application/json" -d "{\"bankName\":\"Test Bank\",\"accountNumber\":\"1234567890\",\"accountName\":\"Test User\"}"

# Set transaction password
curl -X PUT http://localhost:5002/api/users/transaction-password -H "Authorization: Bearer YOUR_TOKEN" -H "Content-Type: application/json" -d "{\"transactionPassword\":\"123456\"}"

# Change login password
curl -X PUT http://localhost:5002/api/users/login-password -H "Authorization: Bearer YOUR_TOKEN" -H "Content-Type: application/json" -d "{\"currentPassword\":\"Test1234\",\"newPassword\":\"Test12345\"}"

===========================================
4. SYSTEM ROUTES (Public)
===========================================

# Get public system settings
curl http://localhost:5002/api/system/settings

===========================================
5. MEMBERSHIP ROUTES
===========================================

# Get membership tiers (public)
curl http://localhost:5002/api/memberships/tiers

# Upgrade membership (protected)
curl -X POST http://localhost:5002/api/memberships/upgrade -H "Authorization: Bearer YOUR_TOKEN" -H "Content-Type: application/json" -d "{\"tierLevel\":2}"

===========================================
6. BANK ROUTES
===========================================

# Get bank accounts (public)
curl http://localhost:5002/api/bank

===========================================
7. SLOT TIER ROUTES
===========================================

# Get active slot tiers (public)
curl http://localhost:5002/api/slot-tiers

===========================================
8. NEWS ROUTES
===========================================

# Get all news (public)
curl http://localhost:5002/api/news

# Get popup news (public)
curl http://localhost:5002/api/news/popup

===========================================
9. QNA ROUTES
===========================================

# Get Q&A (public)
curl http://localhost:5002/api/qna

===========================================
10. COURSE ROUTES (Protected)
===========================================

# Get course categories
curl http://localhost:5002/api/courses/categories -H "Authorization: Bearer YOUR_TOKEN"

# Get courses by category (replace 1 with actual category ID)
curl http://localhost:5002/api/courses/category/1 -H "Authorization: Bearer YOUR_TOKEN"

===========================================
11. DEPOSIT ROUTES (Protected)
===========================================

# Get user deposits
curl http://localhost:5002/api/deposits/user -H "Authorization: Bearer YOUR_TOKEN"

# Create deposit request
curl -X POST http://localhost:5002/api/deposits/create -H "Authorization: Bearer YOUR_TOKEN" -H "Content-Type: application/json" -d "{\"amount\":100,\"bankAccountId\":1}"

# Submit transaction FT
curl -X POST http://localhost:5002/api/deposits/submit-ft -H "Authorization: Bearer YOUR_TOKEN" -H "Content-Type: application/json" -d "{\"depositId\":1,\"transactionFT\":\"FT123456\"}"

===========================================
12. WITHDRAWAL ROUTES (Protected)
===========================================

# Get user withdrawals
curl http://localhost:5002/api/withdrawals/user -H "Authorization: Bearer YOUR_TOKEN"

# Create withdrawal request
curl -X POST http://localhost:5002/api/withdrawals/create -H "Authorization: Bearer YOUR_TOKEN" -H "Content-Type: application/json" -d "{\"amount\":50,\"transactionPassword\":\"123456\"}"

===========================================
13. TASK ROUTES (Protected)
===========================================

# Get daily tasks
curl http://localhost:5002/api/tasks/daily -H "Authorization: Bearer YOUR_TOKEN"

# Complete task (replace 1 with actual task ID)
curl -X POST http://localhost:5002/api/tasks/1/complete -H "Authorization: Bearer YOUR_TOKEN"

===========================================
14. VIDEO TASK ROUTES (Protected)
===========================================

# Get daily video tasks
curl http://localhost:5002/api/video-tasks/daily -H "Authorization: Bearer YOUR_TOKEN"

# Get video task stats
curl http://localhost:5002/api/video-tasks/stats -H "Authorization: Bearer YOUR_TOKEN"

# Update video progress (replace ID with actual video assignment ID)
curl -X POST http://localhost:5002/api/video-tasks/1/progress -H "Authorization: Bearer YOUR_TOKEN" -H "Content-Type: application/json" -d "{\"watchedDuration\":30}"

# Complete video task (replace ID with actual video assignment ID)
curl -X POST http://localhost:5002/api/video-tasks/1/complete -H "Authorization: Bearer YOUR_TOKEN"

===========================================
15. REFERRAL ROUTES (Protected)
===========================================

# Get referral downline
curl http://localhost:5002/api/referrals/downline -H "Authorization: Bearer YOUR_TOKEN"

# Get referral commissions
curl http://localhost:5002/api/referrals/commissions -H "Authorization: Bearer YOUR_TOKEN"

# Get monthly salary
curl http://localhost:5002/api/referrals/salary -H "Authorization: Bearer YOUR_TOKEN"

===========================================
16. MESSAGE ROUTES (Protected)
===========================================

# Get user messages
curl http://localhost:5002/api/messages/user -H "Authorization: Bearer YOUR_TOKEN"

# Mark message as read (replace 1 with actual message ID)
curl -X PUT http://localhost:5002/api/messages/1/read -H "Authorization: Bearer YOUR_TOKEN"

===========================================
17. CHAT ROUTES (Protected)
===========================================

# Get user chat
curl http://localhost:5002/api/chat -H "Authorization: Bearer YOUR_TOKEN"

# Get chat messages (replace chatId with actual chat ID)
curl http://localhost:5002/api/chat/1/messages -H "Authorization: Bearer YOUR_TOKEN"

# Send message (replace chatId with actual chat ID)
curl -X POST http://localhost:5002/api/chat/1/messages -H "Authorization: Bearer YOUR_TOKEN" -H "Content-Type: application/json" -d "{\"message\":\"Hello\"}"

===========================================
18. SPIN ROUTES (Protected)
===========================================

# Spin wheel
curl -X POST http://localhost:5002/api/spin -H "Authorization: Bearer YOUR_TOKEN"

# Get spin history
curl http://localhost:5002/api/spin/history -H "Authorization: Bearer YOUR_TOKEN"

===========================================
19. WEALTH ROUTES (Protected)
===========================================

# Get wealth funds
curl http://localhost:5002/api/wealth/funds -H "Authorization: Bearer YOUR_TOKEN"

# Get specific wealth fund (replace 1 with actual fund ID)
curl http://localhost:5002/api/wealth/funds/1 -H "Authorization: Bearer YOUR_TOKEN"

# Create investment
curl -X POST http://localhost:5002/api/wealth/invest -H "Authorization: Bearer YOUR_TOKEN" -H "Content-Type: application/json" -d "{\"fundId\":1,\"amount\":1000}"

# Get my investments
curl http://localhost:5002/api/wealth/my-investments -H "Authorization: Bearer YOUR_TOKEN"

===========================================
20. ADMIN ROUTES (Protected - Admin Only)
===========================================

# Login as admin first
curl -X POST http://localhost:5002/api/auth/login -H "Content-Type: application/json" -d "{\"phone\":\"+251911111111\",\"password\":\"admin123\"}"

# Get admin stats
curl http://localhost:5002/api/admin/stats -H "Authorization: Bearer ADMIN_TOKEN"

# Get all users
curl http://localhost:5002/api/admin/users -H "Authorization: Bearer ADMIN_TOKEN"

# Get user details (replace 1 with actual user ID)
curl http://localhost:5002/api/admin/users/1 -H "Authorization: Bearer ADMIN_TOKEN"

# Update user (replace 1 with actual user ID)
curl -X PUT http://localhost:5002/api/admin/users/1 -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"name\":\"Updated Name\"}"

# Get user deposit history (replace 1 with actual user ID)
curl http://localhost:5002/api/admin/users/1/deposits -H "Authorization: Bearer ADMIN_TOKEN"

# Get user withdrawal history (replace 1 with actual user ID)
curl http://localhost:5002/api/admin/users/1/withdrawals -H "Authorization: Bearer ADMIN_TOKEN"

# Update admin profile
curl -X PUT http://localhost:5002/api/admin/profile -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"name\":\"Admin Name\"}"

# Get system settings
curl http://localhost:5002/api/admin/settings -H "Authorization: Bearer ADMIN_TOKEN"

# Update system settings
curl -X PUT http://localhost:5002/api/admin/settings -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"videoPaymentAmount\":10}"

# Get all commissions
curl http://localhost:5002/api/admin/commissions -H "Authorization: Bearer ADMIN_TOKEN"

# Process monthly salaries
curl -X POST http://localhost:5002/api/admin/salaries/process -H "Authorization: Bearer ADMIN_TOKEN"

# Get all admins (super admin only)
curl http://localhost:5002/api/admin/admins -H "Authorization: Bearer ADMIN_TOKEN"

# Create admin (super admin only)
curl -X POST http://localhost:5002/api/admin/admins -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"phone\":\"+251922222222\",\"password\":\"admin123\",\"name\":\"New Admin\"}"

# Restrict all users
curl -X PUT http://localhost:5002/api/admin/users/restrict-all -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"restricted\":true}"

# Get all deposits (admin)
curl http://localhost:5002/api/deposits/all -H "Authorization: Bearer ADMIN_TOKEN"

# Approve deposit (replace 1 with actual deposit ID)
curl -X PUT http://localhost:5002/api/deposits/1/approve -H "Authorization: Bearer ADMIN_TOKEN"

# Reject deposit (replace 1 with actual deposit ID)
curl -X PUT http://localhost:5002/api/deposits/1/reject -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"reason\":\"Invalid transaction\"}"

# Get all withdrawals (admin)
curl http://localhost:5002/api/withdrawals/all -H "Authorization: Bearer ADMIN_TOKEN"

# Approve withdrawal (replace 1 with actual withdrawal ID)
curl -X PUT http://localhost:5002/api/withdrawals/1/approve -H "Authorization: Bearer ADMIN_TOKEN"

# Reject withdrawal (replace 1 with actual withdrawal ID)
curl -X PUT http://localhost:5002/api/withdrawals/1/reject -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"reason\":\"Insufficient balance\"}"

# Get all tasks (admin)
curl http://localhost:5002/api/tasks/all -H "Authorization: Bearer ADMIN_TOKEN"

# Upload task (admin)
curl -X POST http://localhost:5002/api/tasks/upload -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"title\":\"New Task\",\"description\":\"Task description\",\"reward\":10}"

# Delete task (admin, replace 1 with actual task ID)
curl -X DELETE http://localhost:5002/api/tasks/1 -H "Authorization: Bearer ADMIN_TOKEN"

# Get playlists (admin)
curl http://localhost:5002/api/tasks/playlists -H "Authorization: Bearer ADMIN_TOKEN"

# Add playlist (admin)
curl -X POST http://localhost:5002/api/tasks/playlists -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"playlistUrl\":\"https://youtube.com/playlist?list=XXX\"}"

# Delete playlist (admin, replace 1 with actual playlist ID)
curl -X DELETE http://localhost:5002/api/tasks/playlists/1 -H "Authorization: Bearer ADMIN_TOKEN"

# Sync videos (admin)
curl -X POST http://localhost:5002/api/tasks/playlists/sync -H "Authorization: Bearer ADMIN_TOKEN"

# Get all bank accounts (admin)
curl http://localhost:5002/api/bank/admin -H "Authorization: Bearer ADMIN_TOKEN"

# Create bank account (admin)
curl -X POST http://localhost:5002/api/bank -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"bankName\":\"Test Bank\",\"accountNumber\":\"1234567890\",\"accountName\":\"Company Account\"}"

# Update bank account (admin, replace 1 with actual bank ID)
curl -X PUT http://localhost:5002/api/bank/1 -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"bankName\":\"Updated Bank\"}"

# Delete bank account (admin, replace 1 with actual bank ID)
curl -X DELETE http://localhost:5002/api/bank/1 -H "Authorization: Bearer ADMIN_TOKEN"

# Get all slot tiers (admin)
curl http://localhost:5002/api/slot-tiers/admin/all -H "Authorization: Bearer ADMIN_TOKEN"

# Create slot tier (admin)
curl -X POST http://localhost:5002/api/slot-tiers/admin -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"name\":\"Bronze\",\"minAmount\":10,\"maxAmount\":100,\"probability\":50}"

# Update slot tier (admin, replace 1 with actual tier ID)
curl -X PUT http://localhost:5002/api/slot-tiers/admin/1 -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"name\":\"Updated Bronze\"}"

# Delete slot tier (admin, replace 1 with actual tier ID)
curl -X DELETE http://localhost:5002/api/slot-tiers/admin/1 -H "Authorization: Bearer ADMIN_TOKEN"

# Toggle slot tier status (admin, replace 1 with actual tier ID)
curl -X PATCH http://localhost:5002/api/slot-tiers/admin/1/toggle -H "Authorization: Bearer ADMIN_TOKEN"

# Get all spin results (admin)
curl http://localhost:5002/api/spin/admin/all -H "Authorization: Bearer ADMIN_TOKEN"

# Get all categories (admin)
curl http://localhost:5002/api/courses/admin/categories -H "Authorization: Bearer ADMIN_TOKEN"

# Create category (admin)
curl -X POST http://localhost:5002/api/courses/admin/categories -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"name\":\"New Category\",\"description\":\"Category description\"}"

# Update category (admin, replace 1 with actual category ID)
curl -X PUT http://localhost:5002/api/courses/admin/categories/1 -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"name\":\"Updated Category\"}"

# Delete category (admin, replace 1 with actual category ID)
curl -X DELETE http://localhost:5002/api/courses/admin/categories/1 -H "Authorization: Bearer ADMIN_TOKEN"

# Get all courses (admin)
curl http://localhost:5002/api/courses/admin/courses -H "Authorization: Bearer ADMIN_TOKEN"

# Create course (admin)
curl -X POST http://localhost:5002/api/courses/admin/courses -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"categoryId\":1,\"title\":\"New Course\",\"description\":\"Course description\",\"videoUrl\":\"https://youtube.com/watch?v=XXX\"}"

# Update course (admin, replace 1 with actual course ID)
curl -X PUT http://localhost:5002/api/courses/admin/courses/1 -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"title\":\"Updated Course\"}"

# Delete course (admin, replace 1 with actual course ID)
curl -X DELETE http://localhost:5002/api/courses/admin/courses/1 -H "Authorization: Bearer ADMIN_TOKEN"

# Get all wealth funds (admin)
curl http://localhost:5002/api/wealth/admin/funds -H "Authorization: Bearer ADMIN_TOKEN"

# Create wealth fund (admin)
curl -X POST http://localhost:5002/api/wealth/admin/funds -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"name\":\"New Fund\",\"description\":\"Fund description\",\"minInvestment\":1000,\"expectedReturn\":10,\"duration\":12}"

# Update wealth fund (admin, replace 1 with actual fund ID)
curl -X PUT http://localhost:5002/api/wealth/admin/funds/1 -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"name\":\"Updated Fund\"}"

# Delete wealth fund (admin, replace 1 with actual fund ID)
curl -X DELETE http://localhost:5002/api/wealth/admin/funds/1 -H "Authorization: Bearer ADMIN_TOKEN"

# Get all investments (admin)
curl http://localhost:5002/api/wealth/admin/investments -H "Authorization: Bearer ADMIN_TOKEN"

# Get all messages (admin)
curl http://localhost:5002/api/messages/all -H "Authorization: Bearer ADMIN_TOKEN"

# Send message (admin)
curl -X POST http://localhost:5002/api/messages/send -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"userId\":1,\"title\":\"Message Title\",\"message\":\"Message content\"}"

# Update message (admin, replace 1 with actual message ID)
curl -X PUT http://localhost:5002/api/messages/1 -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"title\":\"Updated Title\"}"

# Delete message (admin, replace 1 with actual message ID)
curl -X DELETE http://localhost:5002/api/messages/1 -H "Authorization: Bearer ADMIN_TOKEN"

# Get all chats (admin)
curl http://localhost:5002/api/chat/admin -H "Authorization: Bearer ADMIN_TOKEN"

# Get all membership tiers (admin)
curl http://localhost:5002/api/memberships/admin/all -H "Authorization: Bearer ADMIN_TOKEN"

# Hide memberships by range (admin)
curl -X PUT http://localhost:5002/api/memberships/admin/hide-range -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"startLevel\":5,\"endLevel\":10}"

# Unhide memberships by range (admin)
curl -X PUT http://localhost:5002/api/memberships/admin/unhide-range -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"startLevel\":5,\"endLevel\":10}"

# Set restricted range (admin)
curl -X PUT http://localhost:5002/api/memberships/admin/set-restricted-range -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"startLevel\":15,\"endLevel\":20}"

# Get restricted range (admin)
curl http://localhost:5002/api/memberships/admin/restricted-range -H "Authorization: Bearer ADMIN_TOKEN"

# Clear restricted range (admin)
curl -X DELETE http://localhost:5002/api/memberships/admin/restricted-range -H "Authorization: Bearer ADMIN_TOKEN"

# Update membership price (admin, replace 1 with actual tier ID)
curl -X PUT http://localhost:5002/api/memberships/admin/update-price/1 -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"price\":500}"

# Bulk update prices (admin)
curl -X PUT http://localhost:5002/api/memberships/admin/bulk-update-prices -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"updates\":[{\"level\":1,\"price\":100},{\"level\":2,\"price\":200}]}"

# Upload Q&A (admin)
curl -X POST http://localhost:5002/api/qna/upload -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"question\":\"What is this?\",\"answer\":\"This is the answer\"}"

# Delete Q&A (admin, replace 1 with actual QnA ID)
curl -X DELETE http://localhost:5002/api/qna/1 -H "Authorization: Bearer ADMIN_TOKEN"

# Create news (admin)
curl -X POST http://localhost:5002/api/news -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"title\":\"News Title\",\"content\":\"News content\",\"isPopup\":false}"

# Update news (admin, replace 1 with actual news ID)
curl -X PUT http://localhost:5002/api/news/1 -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"title\":\"Updated News\"}"

# Delete news (admin, replace 1 with actual news ID)
curl -X DELETE http://localhost:5002/api/news/1 -H "Authorization: Bearer ADMIN_TOKEN"

# Get system settings (admin)
curl http://localhost:5002/api/system/admin/settings -H "Authorization: Bearer ADMIN_TOKEN"

# Update system settings (admin)
curl -X PUT http://localhost:5002/api/system/admin/settings -H "Authorization: Bearer ADMIN_TOKEN" -H "Content-Type: application/json" -d "{\"videoPaymentAmount\":15,\"videosPerDay\":10}"

===========================================
END OF ROUTE TESTING
===========================================
